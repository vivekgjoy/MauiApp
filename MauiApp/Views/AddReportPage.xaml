<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiApp.Views.AddReportPage"
             Title="Add New Report"
             Shell.NavBarIsVisible="False"
             Background="Transparent">

    <Grid>

        <!-- ðŸ”¸ Background Gradient -->
        <BoxView>
            <BoxView.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                    <GradientStop Color="{StaticResource TopCoral}" Offset="0.0" />
                    <GradientStop Color="{StaticResource BottomCoral}" Offset="1.0" />
                </LinearGradientBrush>
            </BoxView.Background>
        </BoxView>

        <!-- ðŸ”¹ Custom Header -->
        <Grid x:Name="CustomNavHeader"
              HeightRequest="120"
              VerticalOptions="Start"
              HorizontalOptions="FillAndExpand">

            <Grid.RowDefinitions>
                <RowDefinition Height="40"/>
                <RowDefinition Height="56"/>
                <RowDefinition Height="24"/>
            </Grid.RowDefinitions>

            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <ImageButton Grid.Column="0"
                             Source="ic_arrow_back.svg"
                             BackgroundColor="Transparent"
                             WidthRequest="24"
                             HeightRequest="24"
                             HorizontalOptions="Start"
                             VerticalOptions="Center"
                             Clicked="OnBackClicked"/>

                <Label Grid.Column="1"
                       Text="Add New Report"
                       FontSize="18"
                       FontAttributes="Bold"
                       TextColor="White"
                       HorizontalOptions="Center"
                       VerticalOptions="Center"
                       HorizontalTextAlignment="Center"/>
            </Grid>
        </Grid>

        <!-- ðŸ§¾ Main Content -->
        <ScrollView Margin="0,110,0,0">
            <StackLayout Spacing="0" Padding="0">

                <!-- âœ¨ White Report Card -->
                <Frame BackgroundColor="White"
                       CornerRadius="16"
                       Margin="16,0,16,16"
                       Padding="20"
                       HasShadow="True">

                    <StackLayout Spacing="20">

                        <Label Text="Report Details"
                               FontSize="18"
                               FontAttributes="Bold"
                               TextColor="Black"
                               HorizontalOptions="Center" />

                        <!-- Report Title -->
                        <StackLayout Spacing="8">
                            <Label Text="Report Title"
           FontSize="14"
           FontAttributes="Bold"
           TextColor="Black"/>
                            <Frame BackgroundColor="White"
           BorderColor="{StaticResource TopCoral}"
           CornerRadius="8"
           Padding="12,0"
           HasShadow="False">
                                <Entry x:Name="TitleEntry"
               Placeholder="Enter report title"
               TextColor="Black"
               BackgroundColor="Transparent"
               PlaceholderColor="#666666"
               FontSize="14"
               HeightRequest="44"
               Style="{StaticResource NoUnderlineEntry}" />
                            </Frame>
                        </StackLayout>

                        <!-- Report Description -->
                        <StackLayout Spacing="8">
                            <Label Text="Description"
           FontSize="14"
           FontAttributes="Bold"
           TextColor="Black"/>
                            <Frame BackgroundColor="White"
           BorderColor="{StaticResource TopCoral}"
           CornerRadius="8"
           Padding="12,8"
           HasShadow="False">
                                <Editor x:Name="DescriptionEditor"
                Placeholder="Enter report description"
                HeightRequest="100"
                TextColor="Black"
                BackgroundColor="Transparent"
                PlaceholderColor="#666666"
                FontSize="14"
                AutoSize="TextChanges"
                Style="{StaticResource NoUnderline}" />
                            </Frame>
                        </StackLayout>

                        <!-- Attachments -->
                        <StackLayout Spacing="8">
                            <Label Text="ATTACHMENTS"
                                   FontSize="14"
                                   FontAttributes="Bold"
                                   TextColor="Black"/>

                            <Grid x:Name="ImagesGrid" BackgroundColor="Transparent">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                            </Grid>

                            <Button x:Name="AddImageButton"
                                    Text="+ Add Image"
                                    BackgroundColor="{StaticResource TopCoral}"
                                    TextColor="White"
                                    FontSize="14"
                                    FontAttributes="Bold"
                                    HeightRequest="44"
                                    Clicked="OnAddImageClicked" />
                        </StackLayout>

                        <!-- Buttons -->
                        <Grid ColumnDefinitions="*,*" ColumnSpacing="10" Margin="0,10,0,0">
                            <Button Grid.Column="0"
                                    Text="Cancel"
                                    BackgroundColor="#E0E0E0"
                                    TextColor="Black"
                                    FontSize="14"
                                    FontAttributes="Bold"
                                    HeightRequest="44"
                                    Clicked="OnCancelClicked"/>

                            <Button Grid.Column="1"
                                    Text="Generate Report"
                                    BackgroundColor="{StaticResource TopCoral}"
                                    TextColor="White"
                                    FontSize="14"
                                    FontAttributes="Bold"
                                    HeightRequest="44"
                                    Clicked="OnGenerateReportClicked"/>
                        </Grid>
                    </StackLayout>
                </Frame>
            </StackLayout>
        </ScrollView>
    </Grid>
</ContentPage>
