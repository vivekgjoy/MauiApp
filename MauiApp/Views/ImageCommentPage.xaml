<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:components="clr-namespace:MauiApp.Views.Components"
             x:Class="MauiApp.Views.ImageCommentPage"
             Shell.NavBarIsVisible="False"
             Shell.TabBarIsVisible="False"
             Padding="0"
             NavigationPage.HasNavigationBar="False"
             NavigationPage.HasBackButton="False">

    <!-- Background Gradient (Same as Add New Report Page) -->
    <Grid>
        <BoxView>
            <BoxView.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                    <GradientStop Color="#FF6B5A" Offset="0.0" />
                    <GradientStop Color="#FF826C" Offset="1.0" />
                </LinearGradientBrush>
            </BoxView.Background>
        </BoxView>

        <Grid RowDefinitions="Auto,*,Auto"
              RowSpacing="0"
              Padding="0">

            <!-- Custom Header -->
            <Grid Grid.Row="0"
                  HeightRequest="80"
                  Padding="20,40,20,10"
                  BackgroundColor="Transparent">
                <Label Text="Add Comment"
                       FontSize="22"
                       FontAttributes="Bold"
                       TextColor="White"
                       VerticalOptions="Center"
                       HorizontalOptions="Center" />
            </Grid>

            <!-- Main Content -->
            <ScrollView Grid.Row="1"
                        Padding="20"
                        Margin="0">
                <StackLayout Spacing="20">

                    <!-- Image Preview -->
                    <Frame BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Gray900}}"
                           CornerRadius="12"
                           Padding="0"
                           HasShadow="True">
                        <Grid HeightRequest="200">
                            <Image x:Name="ImagePreview"
                                   Aspect="AspectFit"
                                   BackgroundColor="LightGray" />
                        </Grid>
                    </Frame>

                    <!-- Comment Section -->
                    <Frame BackgroundColor="White"
                           CornerRadius="12"
                           Padding="20"
                           HasShadow="True">
                        <StackLayout Spacing="15">
                            <Label Text="Add Comment (Optional)"
                                   FontSize="16"
                                   FontAttributes="Bold"
                                   TextColor="Black" />

                            <Editor x:Name="CommentEditor"
                                    Placeholder="Enter your comment about this image..."
                                    PlaceholderColor="#444444"
                                    TextColor="Black"
                                    BackgroundColor="Transparent"
                                    FontSize="16"
                                    HeightRequest="120"
                                    AutoSize="TextChanges" />
                        </StackLayout>
                    </Frame>

                </StackLayout>
            </ScrollView>

            <!-- Bottom Buttons -->
            <Frame Grid.Row="2"
                   BackgroundColor="Transparent"
                   CornerRadius="0"
                   Padding="20"
                   HasShadow="False"
                   Margin="0">
                <Grid ColumnDefinitions="*,*" ColumnSpacing="15">
                    <Button Grid.Column="0"
                            Text="Skip"
                            BackgroundColor="Transparent"
                            TextColor="White"
                            BorderColor="White"
                            BorderWidth="1.5"
                            CornerRadius="8"
                            Clicked="OnSkipClicked" />

                    <Button Grid.Column="1"
                            Text="Save &amp; Continue"
                            BackgroundColor="#FF6B5A"
                            TextColor="White"
                            BorderColor="#FF826C"
                            BorderWidth="1.5"
                            CornerRadius="8"
                            Clicked="OnSaveAndContinueClicked" />
                </Grid>
            </Frame>

        </Grid>
    </Grid>
</ContentPage>
